{"version":3,"file":"js/958.36de94db.js","mappings":"+GAAA,MAAMA,EAAa,CACjBC,kBAAmB,cACnBC,YAAa,8BACbC,YAAa,kBAGf,QAAgBC,EAAMC,KAChBL,EAAWK,GACbD,EAAK,CACHE,KAAM,QACNC,MAAO,KACPC,KAAMR,EAAWK,KAGnBD,EAAK,CACHE,KAAM,QACNC,MAAO,KACPC,KAAM,iC,mlCCgEZ,MAAMC,GAAQC,EAAAA,EAAAA,IAAO,SACfN,GAAOM,EAAAA,EAAAA,IAAO,SACdC,GAAYC,EAAAA,EAAAA,KAAI,GAEhBC,GAAOD,EAAAA,EAAAA,IAAI,CACfE,MAAO,GACPC,SAAU,GACVC,SAAU,KAGNC,EAASC,UACb,IACEP,EAAUQ,OAAQ,EAClB,MAAM,KAAEC,SAAeX,EAAMY,KAAK,SAAUR,EAAKM,OACjDV,EAAMa,SAASC,QAAQC,OAAOC,cAAiB,UAASL,EAAKM,cAC7D,MAAMC,EAAO,CACXC,OAAQR,EAAKP,KAAKgB,GAClBC,YAAa,EACbC,KAAM,IACNC,SAAU,SAENvB,EAAMY,KAAK,qBAAsBM,GACvClB,EAAMa,SAASC,QAAQC,OAAOC,cAAgB,GAC9CrB,EAAK6B,KAAK,CACR3B,KAAM,UACNC,MAAO,KACPC,KAAM,wBAER,MAAO0B,GAMP,MAL8B,MAA1BA,EAAMC,SAASC,QACjBC,EAAAA,EAAAA,GAAajC,EAAK6B,KAAM,gBAExBI,EAAAA,EAAAA,GAAajC,EAAK6B,MAEd,IAAIK,MAAO,oBAAmBJ,EAAMK,WAvB5C,QAyBE5B,EAAUQ,OAAQ,I,4pDC/GtB,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://rn-wealth/./src/utils/errorHandler.js","webpack://rn-wealth/./src/views/BeforeLogin/SignUp.vue","webpack://rn-wealth/./src/views/BeforeLogin/SignUp.vue?42a1"],"sourcesContent":["const errorCodes = {\n  updateOrderFailed: '更新失敗,請稍後再試。',\n  signupError: '請重新註冊，帳號已有人使用或密碼太短(需4位數以上)。',\n  signInError: '請重新登入，帳號或密碼錯誤。',\n};\n\nexport default (swal, errorCode) => {\n  if (errorCodes[errorCode]) {\n    swal({\n      icon: 'error',\n      title: '失敗',\n      text: errorCodes[errorCode],\n    });\n  } else {\n    swal({\n      icon: 'error',\n      title: '失敗',\n      text: 'sorry，目前服務不可用，請稍後再試或聯絡管理員。',\n    });\n  }\n};\n","<template>\n<VLoading :active=\"isLoading\"></VLoading>\n<div class=\"container-fluid\">\n    <div class=\"row mt-5 mt-md-0\">\n        <div class=\"col d-none d-md-block\">\n            <img src=\"https://images.unsplash.com/photo-1621504450181-5d356f61d307?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=387&q=80\" class=\"signUpImg\" alt=\"money\">\n        </div>\n        <div class=\"col\">\n            <h2 class=\"text-center my-5\">RNWealth 會員註冊</h2>\n            <v-form v-slot=\"{ errors }\" class=\"signUpForm mb-5\" @submit=\"signUp\">\n                <div class=\"form-floating mb-3\">\n                    <v-field type=\"email\" class=\"form-control\"\n                    id=\"signUpAccount\" name=\"Email\"\n                    rules=\"email|required\" :class=\"{ 'is-invalid': errors['Email'] }\"\n                    v-model=\"user.email\"></v-field>\n                    <!--  eslint-disable-next-line vuejs-accessibility/label-has-for -->\n                    <label for=\"signUpAccount\">EMail 帳號</label>\n                    <error-message class=\"invalid-feedback\" name=\"Email\">\n                    </error-message>\n                </div>\n                <div class=\"form-floating mb-4\">\n                    <v-field type=\"password\" class=\"form-control\"\n                    id=\"signUpPassword\" name=\"密碼\"\n                    rules=\"required\" :class=\"{ 'is-invalid': errors['密碼'] }\"></v-field>\n                    <!--  eslint-disable-next-line vuejs-accessibility/label-has-for -->\n                    <label for=\"signUpPassword\">密碼</label>\n                    <error-message class=\"invalid-feedback\" name=\"密碼\">\n                    </error-message>\n                </div>\n                <div class=\"form-floating mb-4\">\n                    <v-field type=\"password\" class=\"form-control\"\n                    id=\"signUpConfirmPassword\" name=\"確認密碼\"\n                    rules=\"confirmed:@密碼|required\"\n                    :class=\"{ 'is-invalid': errors['確認密碼'] }\"\n                    v-model=\"user.password\"></v-field>\n                    <!--  eslint-disable-next-line vuejs-accessibility/label-has-for -->\n                    <label for=\"signUpConfirmPassword\">確認密碼</label>\n                    <error-message class=\"invalid-feedback\" name=\"確認密碼\">\n                    </error-message>\n                </div>\n                <div class=\"form-floating mb-4\">\n                    <v-field type=\"text\" class=\"form-control\"\n                    id=\"signUpName\" name=\"名字\"\n                    rules=\"required\" :class=\"{ 'is-invalid': errors['名字'] }\"\n                    v-model=\"user.nickname\"></v-field>\n                    <!--  eslint-disable-next-line vuejs-accessibility/label-has-for -->\n                    <label for=\"signUpName\">名字</label>\n                    <error-message class=\"invalid-feedback\" name=\"名字\">\n                    </error-message>\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary mb-2 signUpBtn\">註冊</button>\n                <router-link class=\"btn btn-outline-light signUpBtn\"\n                to=\"/login\">登入</router-link>\n            </v-form>\n        </div>\n    </div>\n</div>\n</template>\n\n<style lang=\"scss\" scoped>\n    .signUpImg {\n        width: 100%;\n        height: 670px;\n        object-fit: cover;\n        object-position: center center;\n    }\n    .signUpForm {\n        width: 80%;\n        margin: 0 auto;\n        border: 1px solid #adb5bd;\n        padding: 5%;\n        .signUpBtn {\n            width: 100%;\n        }\n    }\n</style>\n\n<script setup>\nimport errorHandler from '@/utils/errorHandler';\nimport { ref, inject } from 'vue';\n\nconst axios = inject('axios');\nconst swal = inject('$swal');\nconst isLoading = ref(false);\n\nconst user = ref({\n  email: '',\n  password: '',\n  nickname: '',\n});\n\nconst signUp = async () => {\n  try {\n    isLoading.value = true;\n    const { data } = await axios.post('signup', user.value);\n    axios.defaults.headers.common.Authorization = `Bearer ${data.accessToken}`;\n    const body = {\n      userId: data.user.id,\n      fixedIncome: 0,\n      date: '1',\n      isEnable: 0,\n    };\n    await axios.post('monthly-allocation', body);\n    axios.defaults.headers.common.Authorization = '';\n    swal.fire({\n      icon: 'success',\n      title: '成功',\n      text: '恭喜註冊成功，請移至登入頁面重新登入。',\n    });\n  } catch (error) {\n    if (error.response.status === 400) {\n      errorHandler(swal.fire, 'signupError');\n    } else {\n      errorHandler(swal.fire);\n    }\n    throw new Error(`[signUp] error : ${error.message}`);\n  } finally {\n    isLoading.value = false;\n  }\n};\n</script>\n","import script from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=23b13404&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\RNWealth\\\\rn-wealth\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23b13404\"]])\n\nexport default __exports__"],"names":["errorCodes","updateOrderFailed","signupError","signInError","swal","errorCode","icon","title","text","axios","inject","isLoading","ref","user","email","password","nickname","signUp","async","value","data","post","defaults","headers","common","Authorization","accessToken","body","userId","id","fixedIncome","date","isEnable","fire","error","response","status","errorHandler","Error","message","__exports__"],"sourceRoot":""}